(this["webpackJsonproom-management-system"]=this["webpackJsonproom-management-system"]||[]).push([[0],{1059:function(e,t,n){},1094:function(e,t,n){},1099:function(e,t,n){"use strict";n.r(t);n(668);var r=n(39),a=n.n(r),c=n(0),i=n.n(c),o=n(69),s=n.n(o),l=n(619),u=n(620),d=n(648),h=n.n(d),m=(n(674),n(53)),j=n(267),f=n(81),b=n(30),O=n(328),p=n(4),g=Object(c.createContext)({authenticate:!1,setAuthenticate:function(){}}),x=function(e){var t=e.children,n=localStorage.getItem("access-token"),r=Object(c.useState)(!!n&&Object(O.verify)(n,"s3cr3t!@#")),a=Object(b.a)(r,2),i=a[0],o=a[1];return Object(p.jsx)(g.Provider,{value:{authenticate:i,setAuthenticate:o},children:t})},y=(n(109),n(50)),v=n.n(y),w=(n(793),n(622)),k=n.n(w),C=(n(163),n(83)),F=n.n(C),T=n(25),N=n.n(T),S=(n(155),n(36)),I=n.n(S),M=n(54),R=(n(164),n(26)),H=n.n(R),D=n(1108),Y=n(1109),B=n(1110),q=n(416),A=(n(801),function(){var e=H.a.useForm(),t=Object(b.a)(e,1)[0],n=Object(c.useState)(!1),r=Object(b.a)(n,2),a=r[0],i=r[1],o=Object(c.useContext)(g).setAuthenticate,s=window.roomManagementSystemDB,l=function(){t.validateFields().then(function(){var e=Object(M.a)(N.a.mark((function e(n){var r,c,l,u,d;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.username,c=n.password,l=n.remember,e.next=3,s.account.where("username").equals(r).toArray();case 3:u=e.sent,a?u.length>0?I.a.error("T\xe0i kho\u1ea3n \u0111\xe3 t\u1ed3n t\u1ea1i!"):s.account.add({id:Object(D.a)(),username:r,password:Object(q.hashSync)(c,11)}).then((function(){I.a.success("T\u1ea1o t\xe0i kho\u1ea3n th\xe0nh c\xf4ng!"),i(!1),t.resetFields()})):u.length>0&&Object(q.compareSync)(c,u[0].password)?(d=Object(O.sign)({username:r,password:c},"s3cr3t!@#",{expiresIn:"7d"}),o(!0),l&&localStorage.setItem("access-token",d)):I.a.error("T\xean \u0111\u0103ng nh\u1eadp ho\u1eb7c m\u1eadt kh\u1ea9u sai!");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return Object(p.jsx)("div",{className:"login-page",children:Object(p.jsxs)("div",{className:"login-box",children:[Object(p.jsx)("div",{className:"login-title",children:a?"\u0110\u0103ng k\xed":"\u0110\u0103ng nh\u1eadp"}),Object(p.jsxs)(H.a,{name:"normal_login",className:"login-form",form:t,children:[Object(p.jsx)(H.a.Item,{name:"username",rules:[{required:!0,message:"H\xe3y nh\u1eadp t\xean \u0111\u0103ng nh\u1eadp c\u1ee7a b\u1ea1n!"}],children:Object(p.jsx)(F.a,{prefix:Object(p.jsx)(Y.a,{className:"site-form-item-icon"}),placeholder:"T\xean \u0111\u0103ng nh\u1eadp",onPressEnter:l,autoFocus:!0})}),Object(p.jsx)(H.a.Item,{name:"password",rules:[{required:!0,message:"H\xe3y nh\u1eadp m\u1eadt kh\u1ea9u c\u1ee7a b\u1ea1n!"}],children:Object(p.jsx)(F.a.Password,{prefix:Object(p.jsx)(B.a,{className:"site-form-item-icon"}),type:"password",placeholder:"M\u1eadt kh\u1ea9u",onPressEnter:l})}),a||Object(p.jsxs)(H.a.Item,{children:[Object(p.jsx)(H.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(p.jsx)(k.a,{children:"Gi\u1eef t\xf4i lu\xf4n \u0111\u0103ng nh\u1eadp"})}),Object(p.jsx)("a",{className:"login-form-forgot",children:"Qu\xean m\u1eadt kh\u1ea9u"})]}),Object(p.jsx)(H.a.Item,{children:Object(p.jsx)(v.a,{type:"primary",onClick:l,className:"login-form-button",children:a?"\u0110\u0103ng k\xed":"\u0110\u0103ng nh\u1eadp"})}),Object(p.jsxs)(H.a.Item,{noStyle:!0,children:["Ho\u1eb7c"," ",Object(p.jsx)("a",{onClick:function(){i((function(e){return!e})),t.resetFields()},children:a?"\u0111\u0103ng nh\u1eadp":"\u0111\u0103ng k\xed ngay!"})]})]})]})})}),P=(n(949),n(646)),E=n.n(P),V=(n(951),n(647)),G=n.n(V),Q=(n(955),n(418)),X=n.n(Q),U=(n(156),n(77)),K=n.n(U),L=n(1122),z=n(131),W=n(1111),J=n(1112),_=n(1113),Z=n(1114),$=n(1115),ee=n(1116),te=n(1117),ne=n(1118),re={route:{path:"/",routes:[{path:"/analysis",name:"Th\u1ed1ng k\xea",icon:Object(p.jsx)(W.a,{}),component:"./Analysis"},{path:"/room",name:"Qu\u1ea3n l\xfd ph\xf2ng",icon:Object(p.jsx)(J.a,{}),component:"./Room"},{path:"/kind-of-room",name:"Qu\u1ea3n l\xfd lo\u1ea1i ph\xf2ng",icon:Object(p.jsx)(_.a,{}),component:"./KindOfRoom"},{path:"/customer",name:"Qu\u1ea3n l\xfd kh\xe1ch h\xe0ng",icon:Object(p.jsx)(Z.a,{}),component:"./Customer"},{path:"/agreement",name:"Qu\u1ea3n l\xfd h\u1ee3p \u0111\u1ed3ng",icon:Object(p.jsx)($.a,{}),component:"./Agreement"},{path:"/unit-price",name:"Qu\u1ea3n l\xfd \u0111\u01a1n gi\xe1",icon:Object(p.jsx)(ee.a,{}),component:"./UnitPrice"},{path:"/bill",name:"Qu\u1ea3n l\xfd h\xf3a \u0111\u01a1n",icon:Object(p.jsx)(te.a,{}),component:"./Bill"},{path:"/equipment",name:"Qu\u1ea3n l\xfd trang thi\u1ebft b\u1ecb",icon:Object(p.jsx)(ne.a,{}),component:"./Equipment"}]},location:{pathname:"/"}},ae=[{selector:"ul.ant-menu-inline li.ant-menu-item:nth-child(3)",content:"H\xe3y t\u1ea1o lo\u1ea1i ph\xf2ng!"},{selector:".ant-page-header-heading-extra .ant-btn",content:"T\u1ea1o m\u1edbi lo\u1ea1i ph\xf2ng!"},{selector:".ant-modal-wrap .ant-modal",content:"T\u1ea1o th\xf4ng tin lo\u1ea1i ph\xf2ng!"},{selector:"ul.ant-menu-inline li.ant-menu-item:nth-child(2)",content:"H\xe3y t\u1ea1o ph\xf2ng!"},{selector:".ant-page-header-heading-extra .ant-btn",content:"T\u1ea1o m\u1edbi ph\xf2ng!"},{selector:".ant-modal-wrap .ant-modal",content:"T\u1ea1o th\xf4ng tin ph\xf2ng!"},{selector:"ul.ant-menu-inline li.ant-menu-item:nth-child(4)",content:"H\xe3y t\u1ea1o kh\xe1ch h\xe0ng!"},{selector:".ant-page-header-heading-extra .ant-btn",content:"T\u1ea1o m\u1edbi kh\xe1ch h\xe0ng!"},{selector:".ant-modal-wrap .ant-modal",content:"T\u1ea1o th\xf4ng tin kh\xe1ch h\xe0ng!"},{selector:"ul.ant-menu-inline li.ant-menu-item:nth-child(5)",content:"H\xe3y t\u1ea1o h\u1ee3p \u0111\u1ed3ng!"},{selector:".ant-page-header-heading-extra .ant-btn",content:"T\u1ea1o m\u1edbi h\u1ee3p \u0111\u1ed3ng!"},{selector:".ant-modal-wrap .ant-modal",content:"T\u1ea1o th\xf4ng tin h\u1ee3p \u0111\u1ed3ng!"},{selector:"ul.ant-menu-inline li.ant-menu-item:nth-child(6)",content:"H\xe3y t\u1ea1o \u0111\u01a1n gi\xe1!"},{selector:".ant-page-header-heading-extra .ant-btn",content:"T\u1ea1o m\u1edbi \u0111\u01a1n gi\xe1!"},{selector:".ant-modal-wrap .ant-modal",content:"T\u1ea1o th\xf4ng tin \u0111\u01a1n gi\xe1!"},{selector:"ul.ant-menu-inline li.ant-menu-item:nth-child(7)",content:"H\xe3y t\u1ea1o h\xf3a \u0111\u01a1n!"},{selector:".ant-page-header-heading-extra .ant-btn",content:"T\u1ea1o m\u1edbi h\xf3a \u0111\u01a1n!"},{selector:".ant-modal-wrap .ant-modal",content:"T\u1ea1o th\xf4ng tin h\xf3a \u0111\u01a1n!"},{selector:"ul.ant-menu-inline li.ant-menu-item:first-child",content:"Xem th\u1ed1ng k\xea doanh thu!"},{selector:".ant-picker.ant-picker-range",content:"Ch\u1ecdn th\u1eddi gian \u0111\u1ec3 xem th\u1ed1ng k\xea!"}],ce=n(412),ie=n(89),oe=(n(530),n(359)),se=n.n(oe),le=n(623),ue=function(){var e=window.roomManagementSystemDB,t=Object(c.useState)([]),n=Object(b.a)(t,2),r=n[0],a=n[1],i=r.filter((function(e){return!e.stillEmpty})).length,o=function(){var t=Object(M.a)(N.a.mark((function t(){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=a,t.next=3,e.room.toArray();case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){o()}),[]);var s={appendPadding:10,data:[{type:"C\xf2n tr\u1ed1ng",value:i},{type:"C\xf3 kh\xe1ch \u1edf",value:r.length-i}],angleField:"value",colorField:"type",radius:.9,label:{type:"inner",offset:"-30%",content:function(e){var t=e.percent;return"".concat((100*t).toFixed(0),"%")},style:{fontSize:14,textAlign:"center"}},interactions:[{type:"element-active"}]};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(le.a,Object(m.a)({},s)),Object(p.jsx)("div",{style:{marginTop:24,display:"flex",justifyContent:"center",width:"100%"},children:Object(p.jsx)(se.a.Title,{level:4,children:"T\xecnh tr\u1ea1ng ph\xf2ng"})})]})},de=(n(249),n(145)),he=n.n(de),me=n(44),je=n.n(me),fe=n(634),be=function(){var e=window.roomManagementSystemDB,t=Object(c.useState)([]),n=Object(b.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)([]),o=Object(b.a)(i,2),s=o[0],l=o[1],u=function(){var t=Object(M.a)(N.a.mark((function t(){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.agreement.toArray();case 2:return n=t.sent,t.next=5,Promise.all(n.map(function(){var t=Object(M.a)(N.a.mark((function t(n){var r,a,c,i;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.room.get(n.roomId)]);case 2:return r=t.sent,a=Object(b.a)(r,1),n.room=a[0],t.next=7,Promise.all([e.kindOfRoom.get(n.room.kindOfRoomId)]);case 7:c=t.sent,i=Object(b.a)(c,1),n.room.kindOfRoom=i[0];case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 5:a(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){u()}),[]);var d=r.filter((function(e){return je()(s[0]).isSameOrBefore(e.date[0])||je()(s[1]).isSameOrAfter(e.date[0])})),h={data:s.length>0?Array.from({length:je()(s[1]).diff(je()(s[0]),"months")+1}).map((function(e,t){return{month:je()(s[0]).add(t,"month").format("MM/YYYY"),value:d.filter((function(e){return je()(s[0]).add(t,"month").isSameOrBefore(e.date[1])})).map((function(e){return e.room.kindOfRoom.price})).reduce((function(e,t){return e+t}),0)}})):[],xField:"month",yField:"value",label:{},point:{size:5,shape:"diamond",style:{fill:"white",stroke:"#5B8FF9",lineWidth:2}},tooltip:{showMarkers:!1},state:{active:{style:{shadowBlur:4,stroke:"#000",fill:"red"}}},interactions:[{type:"marker-active"}]};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(he.a.RangePicker,{picker:"month",style:{width:400,marginBottom:24},format:["MM/YYYY","MM/YYYY"],ranges:{"1 th\xe1ng":[je()().startOf("months"),je()().endOf("months")],"3 th\xe1ng":[je()().startOf("months"),je()().add(3,"months").endOf("months")],"6 th\xe1ng":[je()().startOf("months"),je()().add(6,"months").endOf("months")],"1 n\u0103m":[je()().startOf("months"),je()().add(12,"months").endOf("months")]},onChange:function(e){l([e[0].valueOf(),e[1].valueOf()])}}),Object(p.jsx)(fe.a,Object(m.a)({},h)),Object(p.jsx)("div",{style:{marginTop:24,display:"flex",justifyContent:"center",width:"100%"},children:Object(p.jsx)(se.a.Title,{level:4,children:"Doanh thu"})})]})},Oe=function(){return Object(p.jsx)(ce.a,{header:{title:"Th\u1ed1ng k\xea"},children:Object(p.jsxs)(ie.a,{ghost:!0,gutter:[24,0],children:[Object(p.jsx)(ie.a,{colSpan:8,children:Object(p.jsx)(ue,{})}),Object(p.jsx)(ie.a,{colSpan:16,children:Object(p.jsx)(be,{})})]})})},pe=(n(406),n(137)),ge=n.n(pe),xe=(n(139),n(71)),ye=n.n(xe),ve=n(1119),we=n(1120),ke=n(106),Ce=function(e){var t=e.onChangeTourStep,n=Object(c.useState)(!1),r=Object(b.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)([]),s=Object(b.a)(o,2),l=s[0],u=s[1],d=Object(c.useState)(""),h=Object(b.a)(d,2),j=h[0],f=h[1],O=Object(c.useState)({kindOfRoom:[]}),g=Object(b.a)(O,2),x=g[0],y=g[1],w=H.a.useForm(),k=Object(b.a)(w,1)[0],C=window.roomManagementSystemDB,T=function(){var e=Object(M.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,C.room.toArray();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(M.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.kindOfRoom.toArray();case 2:t=e.sent,y({kindOfRoom:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){T(),S()}),[]);var R=function(e){return e.value?"Kh\xf4ng":"C\xf3"};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ce.a,{extra:[Object(p.jsx)(v.a,{type:"primary",onClick:function(){i(!0),t(5,400)},children:"Th\xeam m\u1edbi"})],header:{title:"Qu\u1ea3n l\xfd ph\xf2ng"},children:Object(p.jsx)(ie.a,{style:{height:window.innerHeight-168},className:"ag-theme-alpine",children:Object(p.jsx)(ke.AgGridReact,{animateRows:!0,defaultColDef:{floatingFilter:!0,sortable:!0,filter:!0},columnDefs:[{headerName:"M\xe3",field:"code",filter:"agTextColumnFilter"},{headerName:"T\xean",field:"name",filter:"agTextColumnFilter"},{headerName:"Lo\u1ea1i",field:"kindOfRoom",filter:"agTextColumnFilter"},{headerName:"C\xf2n tr\u1ed1ng",field:"stillEmpty",filterParams:{valueFormatter:R},valueFormatter:R},{pinned:"right",field:"",width:100,floatingFilter:!1,cellRendererFramework:function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ye.a,{title:"Ch\u1ec9nh s\u1eeda",children:Object(p.jsx)(v.a,{onClick:function(){return t=e.data,f(t.id),i(!0),void k.setFieldsValue(t);var t},icon:Object(p.jsx)(ve.a,{}),style:{marginRight:8},type:"primary"})}),Object(p.jsx)(ye.a,{title:"X\xf3a",children:Object(p.jsx)(v.a,{icon:Object(p.jsx)(we.a,{}),danger:!0,onClick:function(){return t=e.data,void K.a.warning({title:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a ph\xf2ng ".concat(t.name,"?"),onOk:function(){C.room.where("code").equals(t.code).delete().then((function(){I.a.success("X\xf3a th\xe0nh c\xf4ng!"),T()}))}});var t}})})]})}}],rowData:l.map((function(e){var t;return Object(m.a)({kindOfRoom:null===(t=x.kindOfRoom.find((function(t){return t.id===e.kindOfRoomId})))||void 0===t?void 0:t.name},e)}))})})}),Object(p.jsx)(K.a,{visible:a,title:j?"Ch\u1ec9nh s\u1eeda":"Th\xeam ph\xf2ng m\u1edbi",centered:!0,cancelText:"H\u1ee7y",onOk:function(){k.validateFields().then(function(){var e=Object(M.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.room.where("code").equals(t.code).toArray();case 2:if(!(e.sent.filter((function(e){var t=e.id;return j?j!==t:t})).length>0)){e.next=6;break}return I.a.error("Ph\xf2ng ".concat(t.name," \u0111\xe3 t\u1ed3n t\u1ea1i!")),e.abrupt("return");case 6:if(!j){e.next=9;break}return C.room.update(j,t).then((function(e){e?(I.a.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!"),i(!1),f(""),k.resetFields(),T()):I.a.error("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i!")})),e.abrupt("return");case 9:C.room.add(Object(m.a)({id:Object(D.a)()},t)).then((function(){I.a.success("T\u1ea1o th\xe0nh c\xf4ng!"),i(!1),k.resetFields(),T()}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t(6,200)},onCancel:function(){i(!1),f(""),k.resetFields()},children:Object(p.jsxs)(H.a,{name:"add-form",form:k,labelCol:{span:6},wrapperCol:{span:18},children:[Object(p.jsx)(H.a.Item,{label:"M\xe3",name:"code",rules:[{required:!0,message:"H\xe3y nh\u1eadp m\xe3!"}],children:Object(p.jsx)(F.a,{autoFocus:!0})}),Object(p.jsx)(H.a.Item,{label:"T\xean",name:"name",rules:[{required:!0,message:"H\xe3y nh\u1eadp t\xean!"}],children:Object(p.jsx)(F.a,{})}),Object(p.jsx)(H.a.Item,{label:"Lo\u1ea1i ph\xf2ng",name:"kindOfRoomId",rules:[{required:!0,message:"H\xe3y ch\u1ecdn lo\u1ea1i ph\xf2ng!"}],style:{marginBottom:0},children:Object(p.jsx)(ge.a,{optionLabelProp:"label",children:x.kindOfRoom.map((function(e){return Object(p.jsxs)(ge.a.Option,{value:e.id,label:e.name,children:[e.name," (",e.price,")"]},e.id)}))})})]})})]})},Fe=Object(c.forwardRef)((function(e,t){var n=e.getKindOfRoomModalRef,r=e.edit,a=window.roomManagementSystemDB,i=Object(c.useState)([]),o=Object(b.a)(i,2),s=o[0],l=o[1],u=new Intl.NumberFormat("en-US",{style:"currency",currency:"VND"}),d=function(){var e=Object(M.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,a.kindOfRoom.toArray();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useImperativeHandle)(t,(function(){return{fetchData:d}})),Object(c.useEffect)((function(){d()}),[]);var h=function(){var e=Object(M.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.room.where({kindOfRoomId:t.id}).toArray();case 2:if(!(e.sent.length>0)){e.next=6;break}return I.a.error("B\u1ea1n kh\xf4ng th\u1ec3  lo\u1ea1i ph\xf2ng v\xec c\xf3 ph\xf2ng \u0111\xe3 s\u1eed d\u1ee5ng"),e.abrupt("return");case 6:K.a.warning({title:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a lo\u1ea1i ph\xf2ng ".concat(t.name,"?"),onOk:function(){a.kindOfRoom.where("code").equals(t.code).delete().then((function(){I.a.success("X\xf3a th\xe0nh c\xf4ng!"),d()}))}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(ie.a,{style:{height:window.innerHeight-168},className:"ag-theme-alpine",children:Object(p.jsx)(ke.AgGridReact,{animateRows:!0,defaultColDef:{floatingFilter:!0,sortable:!0,filter:!0},columnDefs:[{headerName:"M\xe3",field:"code",filter:"agTextColumnFilter"},{headerName:"T\xean",field:"name",filter:"agTextColumnFilter"},{headerName:"Gi\xe1",field:"price",valueFormatter:function(e){return u.format(e.value)},filter:"agTextColumnFilter"},{headerName:"Ti\u1ec1n c\u1ecdc",field:"deposit",valueFormatter:function(e){return u.format(e.value)},filter:"agTextColumnFilter"},{pinned:"right",field:"",width:100,floatingFilter:!1,cellRendererFramework:function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ye.a,{title:"Ch\u1ec9nh s\u1eeda",children:Object(p.jsx)(v.a,{onClick:function(){return function(e){var t=n(),a=t.getForm,c=t.openModal;r(e.id),c(),a().setFieldsValue(e)}(e.data)},icon:Object(p.jsx)(ve.a,{}),style:{marginRight:8},type:"primary"})}),Object(p.jsx)(ye.a,{title:"X\xf3a",children:Object(p.jsx)(v.a,{icon:Object(p.jsx)(we.a,{}),danger:!0,onClick:function(){return h(e.data)}})})]})}}],rowData:s})})})),Te=(n(250),n(91)),Ne=n.n(Te),Se=Object(c.forwardRef)((function(e,t){var n=e.edit,r=e.onOk,a=e.onCancel,i=Object(c.useState)(!1),o=Object(b.a)(i,2),s=o[0],l=o[1],u=H.a.useForm(),d=Object(b.a)(u,1)[0],h=window.roomManagementSystemDB;Object(c.useImperativeHandle)(t,(function(){return{getForm:function(){return d},openModal:function(){return l(!0)}}}));return Object(p.jsx)(K.a,{visible:s,title:n?"Ch\u1ec9nh s\u1eeda":"Th\xeam lo\u1ea1i ph\xf2ng m\u1edbi",centered:!0,cancelText:"H\u1ee7y",onOk:function(){d.validateFields().then(function(){var e=Object(M.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.kindOfRoom.where("code").equals(t.code).toArray();case 2:if(!(e.sent.filter((function(e){var t=e.id;return n?n!==t:t})).length>0)){e.next=6;break}return I.a.error("Lo\u1ea1i ph\xf2ng ".concat(t.name," \u0111\xe3 t\u1ed3n t\u1ea1i!")),e.abrupt("return");case 6:if(!n){e.next=9;break}return h.kindOfRoom.update(n,t).then((function(e){e?(I.a.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!"),l(!1),d.resetFields(),r()):I.a.error("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i!")})),e.abrupt("return");case 9:h.kindOfRoom.add(Object(m.a)({id:Object(D.a)()},t)).then((function(){I.a.success("T\u1ea1o th\xe0nh c\xf4ng!"),l(!1),d.resetFields(),r()}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},onCancel:function(){l(!1),d.resetFields(),a()},children:Object(p.jsxs)(H.a,{name:"add-form",form:d,labelCol:{span:6},wrapperCol:{span:18},children:[Object(p.jsx)(H.a.Item,{label:"M\xe3",name:"code",rules:[{required:!0,message:"H\xe3y nh\u1eadp m\xe3!"}],children:Object(p.jsx)(F.a,{autoFocus:!0})}),Object(p.jsx)(H.a.Item,{label:"T\xean",name:"name",rules:[{required:!0,message:"H\xe3y nh\u1eadp t\xean!"}],children:Object(p.jsx)(F.a,{})}),Object(p.jsx)(H.a.Item,{label:"Gi\xe1",name:"price",rules:[{required:!0,message:"H\xe3y nh\u1eadp gi\xe1!"}],children:Object(p.jsx)(Ne.a,{style:{width:"100%"},formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\s?VN\u0110|(,*)/g,"")}})}),Object(p.jsx)(H.a.Item,{label:"Ti\u1ec1n c\u1ecdc",name:"deposit",rules:[{required:!0,message:"H\xe3y nh\u1eadp ti\u1ec1n c\u1ecdc!"}],style:{marginBottom:0},children:Object(p.jsx)(Ne.a,{style:{width:"100%"},formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\s?VN\u0110|(,*)/g,"")}})})]})})})),Ie=function(e){var t=e.onChangeTourStep,n=Object(c.useState)(""),r=Object(b.a)(n,2),a=r[0],i=r[1],o=Object(c.useRef)(null),s=Object(c.useRef)(null);return Object(p.jsxs)(ce.a,{extra:[Object(p.jsx)(v.a,{type:"primary",onClick:function(){s.current.openModal(),t(2,200)},children:"Th\xeam m\u1edbi"})],header:{title:"Qu\u1ea3n l\xfd lo\u1ea1i ph\xf2ng"},children:[Object(p.jsx)(Fe,{edit:function(e){return i(e)},ref:o,getKindOfRoomModalRef:function(){return s.current}}),Object(p.jsx)(Se,{ref:s,edit:a,onCancel:function(){return i("")},onOk:function(){a&&i(""),o.current.fetchData(),t(3,400)}})]})},Me=(n(1054),n(272)),Re=n.n(Me),He=n(112),De=["dateOfBirth"],Ye=["dateOfBirth"],Be=function(e){var t=e.onChangeTourStep,n=Object(c.useState)(!1),r=Object(b.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)([]),s=Object(b.a)(o,2),l=s[0],u=s[1],d=Object(c.useState)(""),h=Object(b.a)(d,2),j=h[0],f=h[1],O=H.a.useForm(),g=Object(b.a)(O,1)[0],x=window.roomManagementSystemDB,y=function(){var e=Object(M.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,x.customer.toArray();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){y()}),[]);var w=function(e){return e.value&&je()(+e.value).format("DD/MM/YYYY")};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ce.a,{extra:[Object(p.jsx)(v.a,{type:"primary",onClick:function(){i(!0),t(8,400)},children:"Th\xeam m\u1edbi"})],header:{title:"Qu\u1ea3n l\xfd kh\xe1ch h\xe0ng"},children:Object(p.jsx)(ie.a,{style:{height:window.innerHeight-168},className:"ag-theme-alpine",children:Object(p.jsx)(ke.AgGridReact,{animateRows:!0,defaultColDef:{floatingFilter:!0,sortable:!0,filter:!0},columnDefs:[{headerName:"M\xe3",field:"code",filter:"agTextColumnFilter"},{headerName:"H\u1ecd v\xe0 t\xean",field:"fullName",filter:"agTextColumnFilter"},{headerName:"S\u1ed1 CMND",field:"identityCardNumber",filter:"agTextColumnFilter"},{headerName:"Ng\xe0y sinh",field:"dateOfBirth",filterParams:{valueFormatter:w},valueFormatter:w},{headerName:"Gi\u1edbi t\xednh",field:"sex",filter:"agTextColumnFilter"},{headerName:"\u0110\u1ecba ch\u1ec9",field:"address",filter:"agTextColumnFilter"},{headerName:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",field:"phoneNumber",filter:"agTextColumnFilter"},{headerName:"Ngh\u1ec1 nghi\u1ec7p",field:"job",filter:"agTextColumnFilter"},{pinned:"right",field:"",width:100,floatingFilter:!1,cellRendererFramework:function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ye.a,{title:"Ch\u1ec9nh s\u1eeda",children:Object(p.jsx)(v.a,{onClick:function(){return function(e){var t=e.dateOfBirth,n=Object(He.a)(e,De);f(n.id),i(!0),g.setFieldsValue(Object(m.a)({dateOfBirth:t&&je()(t)},n))}(e.data)},icon:Object(p.jsx)(ve.a,{}),style:{marginRight:8},type:"primary"})}),Object(p.jsx)(ye.a,{title:"X\xf3a",children:Object(p.jsx)(v.a,{icon:Object(p.jsx)(we.a,{}),danger:!0,onClick:function(){return t=e.data,void K.a.warning({title:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a kh\xe1ch h\xe0ng ".concat(t.fullName,"?"),onOk:function(){x.customer.where("code").equals(t.code).delete().then((function(){I.a.success("X\xf3a th\xe0nh c\xf4ng!"),y()}))}});var t}})})]})}}],rowData:l})})}),Object(p.jsx)(K.a,{visible:a,title:j?"Ch\u1ec9nh s\u1eeda":"Th\xeam kh\xe1ch h\xe0ng m\u1edbi",centered:!0,cancelText:"H\u1ee7y",onOk:function(){g.validateFields().then(function(){var e=Object(M.a)(N.a.mark((function e(t){var n,r,a,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dateOfBirth,r=Object(He.a)(t,Ye),e.next=3,x.customer.where("code").equals(r.code).toArray();case 3:if(a=e.sent,c=Object(m.a)({dateOfBirth:null===n||void 0===n?void 0:n.valueOf()},r),!(a.filter((function(e){var t=e.id;return j?j!==t:t})).length>0)){e.next=8;break}return I.a.error("Kh\xe1ch h\xe0ng ".concat(r.fullName," \u0111\xe3 t\u1ed3n t\u1ea1i!")),e.abrupt("return");case 8:if(!j){e.next=11;break}return x.customer.update(j,c).then((function(e){e?(I.a.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!"),i(!1),f(""),g.resetFields(),y()):I.a.error("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i!")})),e.abrupt("return");case 11:x.customer.add(Object(m.a)({id:Object(D.a)()},c)).then((function(){I.a.success("T\u1ea1o th\xe0nh c\xf4ng!"),i(!1),g.resetFields(),y()}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t(9,200)},onCancel:function(){i(!1),f(""),g.resetFields()},children:Object(p.jsxs)(H.a,{name:"add-form",form:g,labelCol:{span:6},wrapperCol:{span:18},initialValues:{sex:"Nam"},children:[Object(p.jsx)(H.a.Item,{label:"M\xe3",name:"code",rules:[{required:!0,message:"H\xe3y nh\u1eadp m\xe3!"}],children:Object(p.jsx)(F.a,{autoFocus:!0})}),Object(p.jsx)(H.a.Item,{label:"H\u1ecd v\xe0 t\xean",name:"fullName",rules:[{required:!0,message:"H\xe3y nh\u1eadp h\u1ecd v\xe0 t\xean!"}],children:Object(p.jsx)(F.a,{})}),Object(p.jsx)(H.a.Item,{label:"S\u1ed1 CMND",name:"identityCardNumber",rules:[{required:!0,message:"H\xe3y nh\u1eadp s\u1ed1 CMND!"}],children:Object(p.jsx)(Ne.a,{style:{width:"100%"}})}),Object(p.jsx)(H.a.Item,{label:"Ng\xe0y sinh",name:"dateOfBirth",children:Object(p.jsx)(he.a,{style:{width:"100%"},format:"DD/MM/YYYY"})}),Object(p.jsx)(H.a.Item,{label:"Gi\u1edbi t\xednh",name:"sex",children:Object(p.jsxs)(Re.a.Group,{children:[Object(p.jsx)(Re.a,{value:"Nam",children:"Nam"}),Object(p.jsx)(Re.a,{value:"N\u1eef",children:"N\u1eef"}),Object(p.jsx)(Re.a,{value:"Kh\xe1c",children:"Kh\xe1c"})]})}),Object(p.jsx)(H.a.Item,{label:"\u0110\u1ecba ch\u1ec9",name:"address",children:Object(p.jsx)(F.a,{})}),Object(p.jsx)(H.a.Item,{label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",name:"phoneNumber",children:Object(p.jsx)(Ne.a,{style:{width:"100%"}})}),Object(p.jsx)(H.a.Item,{label:"Ngh\u1ec1 nghi\u1ec7p",name:"job",style:{marginBottom:0},children:Object(p.jsx)(F.a,{})})]})})]})},qe=["date"],Ae=["date"],Pe=["date"],Ee=function(e){var t=e.onChangeTourStep,n=Object(c.useState)(!1),r=Object(b.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)([]),s=Object(b.a)(o,2),l=s[0],u=s[1],d=Object(c.useState)(""),h=Object(b.a)(d,2),j=h[0],f=h[1],O=H.a.useForm(),g=Object(b.a)(O,1)[0],x=Object(c.useState)({room:[],customer:[]}),y=Object(b.a)(x,2),w=y[0],k=y[1],C=window.roomManagementSystemDB,T=function(){var e=Object(M.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,C.agreement.toArray();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(M.a)(N.a.mark((function e(){var t,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.room.toArray();case 2:return t=e.sent,e.next=5,C.customer.toArray();case 5:n=e.sent,k({room:t,customer:n});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){T(),S()}),[]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ce.a,{extra:[Object(p.jsx)(v.a,{type:"primary",onClick:function(){i(!0),t(11,400)},children:"Th\xeam m\u1edbi"})],header:{title:"Qu\u1ea3n l\xfd h\u1ee3p \u0111\u1ed3ng"},children:Object(p.jsx)(ie.a,{style:{height:window.innerHeight-168},className:"ag-theme-alpine",children:Object(p.jsx)(ke.AgGridReact,{animateRows:!0,defaultColDef:{floatingFilter:!0,sortable:!0,filter:!0,resizable:!0},columnDefs:[{headerName:"M\xe3",field:"code",filter:"agTextColumnFilter"},{headerName:"Ph\xf2ng",field:"room",filter:"agTextColumnFilter"},{headerName:"Kh\xe1ch h\xe0ng",field:"customer",filter:"agTextColumnFilter"},{headerName:"Th\u1eddi h\u1ea1n",field:"formatDate",filter:"agTextColumnFilter"},{pinned:"right",field:"",width:100,floatingFilter:!1,cellRendererFramework:function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ye.a,{title:"Ch\u1ec9nh s\u1eeda",children:Object(p.jsx)(v.a,{onClick:function(){return function(e){var t=e.date,n=Object(He.a)(e,qe),r=JSON.parse(t);f(n.id),i(!0),g.setFieldsValue(Object(m.a)({date:[je()(r[0]),je()(r[1])]},n))}(e.data)},icon:Object(p.jsx)(ve.a,{}),style:{marginRight:8},type:"primary"})}),Object(p.jsx)(ye.a,{title:"X\xf3a",children:Object(p.jsx)(v.a,{icon:Object(p.jsx)(we.a,{}),danger:!0,onClick:function(){return t=e.data,void K.a.warning({title:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a h\u1ee3p \u0111\u1ed3ng ".concat(t.code,"?"),onOk:function(){C.agreement.where("code").equals(t.code).delete().then(Object(M.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I.a.success("X\xf3a th\xe0nh c\xf4ng!"),e.next=3,C.room.update(t.roomId,{stillEmpty:!1});case 3:T();case 4:case"end":return e.stop()}}),e)}))))}});var t}})})]})}}],rowData:l.map((function(e){var t,n=e.date,r=Object(He.a)(e,Pe);return Object(m.a)({room:null===(t=w.room.find((function(e){return e.id===r.roomId})))||void 0===t?void 0:t.name,date:JSON.stringify(n),formatDate:"t\u1eeb ".concat(je()(n[0]).format("MM/YYYY")," \u0111\u1ebfn ").concat(je()(n[1]).format("MM/YYYY")),customer:w.customer.filter((function(e){return r.customerIds.includes(e.id)})).map((function(e){return e.fullName})).join(", ")},r)}))})})}),Object(p.jsx)(K.a,{visible:a,title:j?"Ch\u1ec9nh s\u1eeda":"Th\xeam h\u1ee3p \u0111\u1ed3ng m\u1edbi",centered:!0,cancelText:"H\u1ee7y",onOk:function(){g.validateFields().then(function(){var e=Object(M.a)(N.a.mark((function e(t){var n,r,a,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.date,r=Object(He.a)(t,Ae),a=Object(m.a)({date:[n[0].valueOf(),n[1].valueOf()]},r),e.next=4,C.agreement.where("code").equals(a.code).toArray();case 4:if(!(e.sent.filter((function(e){var t=e.id;return j?j!==t:t})).length>0)){e.next=8;break}return I.a.error("H\u1ee3p \u0111\u1ed3ng ".concat(a.code," \u0111\xe3 t\u1ed3n t\u1ea1i!")),e.abrupt("return");case 8:if(c=l.filter((function(e){return j?j!==e.id:e.id})).filter((function(e){return e.customerIds.filter((function(e){return a.customerIds.includes(e)})).length>0})),!(l.filter((function(e){return j?j!==e.id:e.id})).filter((function(e){return e.roomId===a.roomId})).length>0)){e.next=13;break}return I.a.error("Ph\xf2ng \u0111\xe3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng!"),e.abrupt("return");case 13:if(!(c.length>0)){e.next=16;break}return I.a.error("C\xf3 kh\xe1ch h\xe0ng \u0111ang \u1edf ph\xf2ng kh\xe1c!"),e.abrupt("return");case 16:if(!j){e.next=19;break}return C.agreement.update(j,a).then((function(e){e?(I.a.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!"),i(!1),f(""),g.resetFields(),T()):I.a.error("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i!")})),e.abrupt("return");case 19:C.agreement.add(Object(m.a)({id:Object(D.a)()},a)).then(Object(M.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I.a.success("T\u1ea1o th\xe0nh c\xf4ng!"),i(!1),g.resetFields(),e.next=5,C.room.update(a.roomId,{stillEmpty:!0});case 5:T();case 6:case"end":return e.stop()}}),e)}))));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t(12,200)},onCancel:function(){i(!1),f(""),g.resetFields()},children:Object(p.jsxs)(H.a,{name:"add-form",form:g,labelCol:{span:6},wrapperCol:{span:18},children:[Object(p.jsx)(H.a.Item,{label:"M\xe3",name:"code",rules:[{required:!0,message:"H\xe3y nh\u1eadp m\xe3!"}],children:Object(p.jsx)(F.a,{autoFocus:!0})}),Object(p.jsx)(H.a.Item,{label:"Ph\xf2ng",name:"roomId",rules:[{required:!0,message:"H\xe3y ch\u1ecdn ph\xf2ng!"}],children:Object(p.jsx)(ge.a,{children:w.room.map((function(e){return Object(p.jsx)(ge.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(p.jsx)(H.a.Item,{label:"Kh\xe1ch h\xe0ng",name:"customerIds",rules:[{required:!0,message:"H\xe3y ch\u1ecdn kh\xe1ch h\xe0ng!"}],children:Object(p.jsx)(ge.a,{mode:"multiple",children:w.customer.map((function(e){return Object(p.jsx)(ge.a.Option,{value:e.id,children:e.fullName},e.id)}))})}),Object(p.jsx)(H.a.Item,{label:"Th\u1eddi h\u1ea1n",name:"date",style:{marginBottom:0},rules:[{required:!0,message:"H\xe3y ch\u1ecdn th\u1eddi h\u1ea1n!"}],children:Object(p.jsx)(he.a.RangePicker,{style:{width:"100%"},picker:"month",format:["MM/YYYY","MM/YYYY"],ranges:{"1 th\xe1ng":[je()(),je()().add(1,"months")],"3 th\xe1ng":[je()(),je()().add(3,"months")],"6 th\xe1ng":[je()(),je()().add(6,"months")],"1 n\u0103m":[je()(),je()().add(12,"months")]}})})]})})]})},Ve=["date"],Ge=["date"],Qe=function(e){var t=e.onChangeTourStep,n=Object(c.useState)(!1),r=Object(b.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)([]),s=Object(b.a)(o,2),l=s[0],u=s[1],d=Object(c.useState)(""),h=Object(b.a)(d,2),j=h[0],f=h[1],O=H.a.useForm(),g=Object(b.a)(O,1)[0],x=window.roomManagementSystemDB,y=new Intl.NumberFormat("en-US",{style:"currency",currency:"VND"}),w=function(){var e=Object(M.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,x.unitPrice.toArray();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){w()}),[]);var k=function(e){return e.value&&je()(+e.value).format("MM/YYYY")};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ce.a,{extra:[Object(p.jsx)(v.a,{type:"primary",onClick:function(){i(!0),t(14,400)},children:"Th\xeam m\u1edbi"})],header:{title:"Qu\u1ea3n l\xfd \u0111\u01a1n gi\xe1"},children:Object(p.jsx)(ie.a,{style:{height:window.innerHeight-168},className:"ag-theme-alpine",children:Object(p.jsx)(ke.AgGridReact,{animateRows:!0,defaultColDef:{floatingFilter:!0,sortable:!0,filter:!0},columnDefs:[{headerName:"\u0110\u01a1n gi\xe1 \u0111i\u1ec7n",field:"electricity",filter:"agTextColumnFilter",valueFormatter:function(e){return y.format(e.value)}},{headerName:"\u0110\u01a1n gi\xe1 n\u01b0\u1edbc",field:"water",filter:"agTextColumnFilter",valueFormatter:function(e){return y.format(e.value)}},{headerName:"Ti\u1ec1n gi\u1eef xe",field:"parking",filter:"agTextColumnFilter",valueFormatter:function(e){return y.format(e.value)}},{headerName:"Ti\u1ec1n r\xe1c",field:"junkMoney",filter:"agTextColumnFilter",valueFormatter:function(e){return y.format(e.value)}},{headerName:"Th\u1eddi gian",field:"date",filterParams:{valueFormatter:k},valueFormatter:k},{pinned:"right",field:"",width:100,floatingFilter:!1,cellRendererFramework:function(e){return je()().isAfter(je()(e.data.date),"months")?null:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ye.a,{title:"Ch\u1ec9nh s\u1eeda",children:Object(p.jsx)(v.a,{onClick:function(){return function(e){var t=e.date,n=Object(He.a)(e,Ve);f(n.id),i(!0),g.setFieldsValue(Object(m.a)({date:je()(t)},n))}(e.data)},icon:Object(p.jsx)(ve.a,{}),style:{marginRight:8},type:"primary"})}),Object(p.jsx)(ye.a,{title:"X\xf3a",children:Object(p.jsx)(v.a,{icon:Object(p.jsx)(we.a,{}),danger:!0,onClick:function(){return t=e.data,void K.a.warning({title:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a \u0111\u01a1n gi\xe1 th\xe1ng ".concat(t.code,"?"),onOk:function(){x.unitPrice.where("code").equals(t.code).delete().then((function(){I.a.success("X\xf3a th\xe0nh c\xf4ng!"),w()}))}});var t}})})]})}}],rowData:l})})}),Object(p.jsx)(K.a,{visible:a,title:j?"Ch\u1ec9nh s\u1eeda":"Th\xeam \u0111\u01a1n gi\xe1 m\u1edbi",centered:!0,cancelText:"H\u1ee7y",onOk:function(){g.validateFields().then(function(){var e=Object(M.a)(N.a.mark((function e(t){var n,r,a,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.date,r=Object(He.a)(t,Ge),a=Object(m.a)({date:null===n||void 0===n?void 0:n.valueOf(),code:je()(n).format("MM/YYYY")},r),e.next=4,x.unitPrice.where("code").equals(a.code).toArray();case 4:if(!((c=e.sent).filter((function(e){var t=e.id;return j?j!==t:t})).length>0)){e.next=8;break}return I.a.error("\u0110\u01a1n gi\xe1 th\xe1ng ".concat(c[0].code," \u0111\xe3 t\u1ed3n t\u1ea1i!")),e.abrupt("return");case 8:if(!j){e.next=11;break}return x.unitPrice.update(j,a).then((function(e){e?(I.a.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!"),i(!1),f(""),g.resetFields(),w()):I.a.error("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i!")})),e.abrupt("return");case 11:x.unitPrice.add(Object(m.a)({id:Object(D.a)()},a)).then((function(){I.a.success("T\u1ea1o th\xe0nh c\xf4ng!"),i(!1),g.resetFields(),w()}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t(15,200)},onCancel:function(){i(!1),f(""),g.resetFields()},children:Object(p.jsxs)(H.a,{name:"add-form",form:g,labelCol:{span:6},wrapperCol:{span:18},children:[Object(p.jsx)(H.a.Item,{label:"\u0110\u01a1n gi\xe1 \u0110i\u1ec7n",name:"electricity",rules:[{required:!0,message:"H\xe3y nh\u1eadp \u0111\u01a1n gi\xe1 \u0111i\u1ec7n!"}],children:Object(p.jsx)(Ne.a,{style:{width:"100%"},formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\s?VN\u0110|(,*)/g,"")}})}),Object(p.jsx)(H.a.Item,{label:"\u0110\u01a1n gi\xe1 n\u01b0\u1edbc",name:"water",rules:[{required:!0,message:"H\xe3y nh\u1eadp \u0111\u01a1n gi\xe1 n\u01b0\u1edbc!"}],children:Object(p.jsx)(Ne.a,{style:{width:"100%"},formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\s?VN\u0110|(,*)/g,"")}})}),Object(p.jsx)(H.a.Item,{label:"Ti\u1ec1n gi\u1eef xe",name:"parking",rules:[{required:!0,message:"H\xe3y nh\u1eadp ti\u1ec1n xe!"}],children:Object(p.jsx)(Ne.a,{style:{width:"100%"},formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\s?VN\u0110|(,*)/g,"")}})}),Object(p.jsx)(H.a.Item,{label:"Ti\u1ec1n r\xe1c",name:"junkMoney",rules:[{required:!0,message:"H\xe3y nh\u1eadp ti\u1ec1n r\xe1c!"}],children:Object(p.jsx)(Ne.a,{style:{width:"100%"},formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\s?VN\u0110|(,*)/g,"")}})}),Object(p.jsx)(H.a.Item,{label:"Th\u1eddi gian",name:"date",style:{marginBottom:0},rules:[{required:!0,message:"H\xe3y ch\u1ecdn th\u1eddi gian!"}],children:Object(p.jsx)(he.a,{style:{width:"100%"},picker:"month",format:"MM/YYYY"})})]})})]})},Xe=n(1121),Ue=n(636),Ke=n.n(Ue),Le=(n(1059),["date"]),ze=["date"],We=function(e){var t=e.onChangeTourStep,n=Object(c.useState)(!1),r=Object(b.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)([]),s=Object(b.a)(o,2),l=s[0],u=s[1],d=Object(c.useState)(""),h=Object(b.a)(d,2),j=h[0],f=h[1],O=H.a.useForm(),g=Object(b.a)(O,1)[0],x=Object(c.useState)({room:[],unitPrice:[]}),y=Object(b.a)(x,2),w=y[0],k=y[1],C=window.roomManagementSystemDB,T=new Intl.NumberFormat("en-US",{style:"currency",currency:"VND"}),S=function(){var e=Object(M.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,C.bill.toArray();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(M.a)(N.a.mark((function e(){var t,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.room.toArray();case 2:return t=e.sent,e.next=5,C.unitPrice.toArray();case 5:n=e.sent,k({room:t,unitPrice:n});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){S(),R()}),[]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ce.a,{extra:[Object(p.jsx)(v.a,{type:"primary",onClick:function(){i(!0),t(17,400)},children:"Th\xeam m\u1edbi"})],header:{title:"Qu\u1ea3n l\xfd h\xf3a \u0111\u01a1n"},children:Object(p.jsx)(ie.a,{style:{height:window.innerHeight-168},className:"ag-theme-alpine",children:Object(p.jsx)(ke.AgGridReact,{animateRows:!0,defaultColDef:{floatingFilter:!0,sortable:!0,filter:!0,resizable:!0},groupMultiAutoColumn:!0,enableRangeSelection:!0,columnDefs:[{headerName:"Th\u1eddi gian",field:"formatDate",rowGroup:!0,hide:!0},{headerName:"M\xe3",field:"code",filter:"agTextColumnFilter"},{headerName:"Ph\xf2ng",field:"room",filter:"agTextColumnFilter"},{headerName:"S\u1ed1 l\u01b0\u1ee3ng \u0111i\u1ec7n ti\xeau th\u1ee5",field:"amountOfElectricity",filter:"agTextColumnFilter"},{headerName:"S\u1ed1 l\u01b0\u1ee3ng n\u01b0\u1edbc ti\xeau th\u1ee5",field:"amountOfWater",filter:"agTextColumnFilter"},{headerName:"S\u1ed1 l\u01b0\u1ee3ng xe",field:"numberOfVehicles",filter:"agTextColumnFilter"},{headerName:"Ti\u1ec1n \u0111i\u1ec7n",field:"electricityBill",filter:"agTextColumnFilter"},{headerName:"Ti\u1ec1n n\u01b0\u1edbc",field:"waterBill",filter:"agTextColumnFilter"},{headerName:"Ti\u1ec1n gi\u1eef xe",field:"parkingFee",filter:"agTextColumnFilter"},{headerName:"Ti\u1ec1n r\xe1c",field:"junkMoney",filter:"agTextColumnFilter"},{headerName:"T\u1ed5ng",field:"total",filter:"agTextColumnFilter"},{pinned:"right",field:"",width:100,floatingFilter:!1,cellRendererFramework:function(e){if(!e.data){var t,n,r=null===(t=e.node)||void 0===t||null===(n=t.allLeafChildren)||void 0===n?void 0:n.map((function(e){return e.data})),a=Object(c.createRef)();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ke.a,{trigger:function(){return Object(p.jsx)(v.a,{icon:Object(p.jsx)(Xe.a,{})})},content:function(){return a.current}}),Object(p.jsx)("div",{style:{display:"none"},children:Object(p.jsxs)("div",{ref:a,children:[Object(p.jsx)("style",{children:"\n                              #print-container {\n                                padding: 16px;\n                              }\n\n                              #print-container h2 {\n                                font-weight: bold;\n                                text-align: center;\n                              }\n\n                              #print-container table, th, td {\n                                border: 1px solid black;\n                                font-size: 14px;\n                              }\n\n                              #print-container table {\n                                width: 100%;\n                                border-collapse: collapse;\n                              }\n                            "}),Object(p.jsxs)("div",{id:"print-container",children:[Object(p.jsxs)("h2",{children:["Th\xe1ng ",e.node.key]}),Object(p.jsxs)("table",{cellPadding:8,children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{rowSpan:2,children:"SP"}),Object(p.jsx)("th",{colSpan:2,children:"TI\u1ec0N \u0110I\u1ec6N"}),Object(p.jsx)("th",{colSpan:2,children:"TI\u1ec0N N\u01af\u1edaC"}),Object(p.jsx)("th",{rowSpan:2,children:"TI\u1ec0N XE"}),Object(p.jsx)("th",{rowSpan:2,children:"TI\u1ec0N R\xc1C"}),Object(p.jsx)("th",{rowSpan:2,children:"T\u1ed4NG C\u1ed8NG"}),Object(p.jsx)("th",{rowSpan:2,children:"SP"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"TI\xcaU TH\u1ee4 (kW)"}),Object(p.jsx)("th",{children:"TH\xc0NH TI\u1ec0N"}),Object(p.jsx)("th",{children:"TI\xcaU TH\u1ee4 (m3)"}),Object(p.jsx)("th",{children:"TH\xc0NH TI\u1ec0N"})]}),r.map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.room}),Object(p.jsx)("td",{children:e.amountOfElectricity}),Object(p.jsx)("td",{children:e.electricityBill}),Object(p.jsx)("td",{children:e.amountOfWater}),Object(p.jsx)("td",{children:e.waterBill}),Object(p.jsx)("td",{children:e.parkingFee}),Object(p.jsx)("td",{children:e.junkMoney}),Object(p.jsx)("td",{children:e.total}),Object(p.jsx)("td",{children:e.room})]},t)}))]})]})]})})]})}return!e.data||e.data&&je()().isAfter(je()(e.data.date))?null:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ye.a,{title:"Ch\u1ec9nh s\u1eeda",children:Object(p.jsx)(v.a,{onClick:function(){return function(e){var t=e.date,n=Object(He.a)(e,Le);f(n.id),i(!0),g.setFieldsValue(Object(m.a)({date:je()(t)},n))}(e.data)},icon:Object(p.jsx)(ve.a,{}),style:{marginRight:8},type:"primary"})}),Object(p.jsx)(ye.a,{title:"X\xf3a",children:Object(p.jsx)(v.a,{icon:Object(p.jsx)(we.a,{}),danger:!0,onClick:function(){return t=e.data,void K.a.warning({title:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a h\xf3a \u0111\u01a1n ".concat(t.code,"?"),onOk:function(){C.bill.where("code").equals(t.code).delete().then((function(){I.a.success("X\xf3a th\xe0nh c\xf4ng!"),S()}))}});var t}})})]})}}],rowData:l.map((function(e){var t,n=w.unitPrice.find((function(t){return t.code===e.formatDate})),r=n?n.electricity*e.amountOfElectricity:0,a=n?n.water*e.amountOfWater:0,c=n?n.parking*e.numberOfVehicles:0,i=(null===n||void 0===n?void 0:n.junkMoney)||0,o=null===(t=w.room.find((function(t){return t.id===e.roomId})))||void 0===t?void 0:t.name,s=r+a+c+i;return Object(m.a)({room:o,electricityBill:T.format(r),waterBill:T.format(a),parkingFee:T.format(c),junkMoney:T.format(i),total:T.format(s)},e)}))})})}),Object(p.jsx)(K.a,{visible:a,title:j?"Ch\u1ec9nh s\u1eeda":"Th\xeam h\xf3a \u0111\u01a1n m\u1edbi",centered:!0,cancelText:"H\u1ee7y",onOk:function(){g.validateFields().then(function(){var e=Object(M.a)(N.a.mark((function e(t){var n,r,a,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.date,r=Object(He.a)(t,ze),a=Object(m.a)({date:n.valueOf()},r),e.next=4,C.bill.where("code").equals(a.code).toArray();case 4:if(!(e.sent.filter((function(e){var t=e.id;return j?j!==t:t})).length>0)){e.next=8;break}return I.a.error("H\xf3a \u0111\u01a1n ".concat(a.code," \u0111\xe3 t\u1ed3n t\u1ea1i!")),e.abrupt("return");case 8:return c=je()(a.date).format("MM/YYYY"),e.next=11,C.bill.where({roomId:a.roomId,formatDate:c}).toArray();case 11:if(!e.sent.length){e.next=15;break}return I.a.error("C\xf3 ph\xf2ng \u0111\xe3 \u0111\u01b0\u1ee3c l\u1eadp h\xf3a \u0111\u01a1n!"),e.abrupt("return");case 15:if(!j){e.next=18;break}return C.bill.update(j,Object(m.a)({},a)).then((function(e){e?(I.a.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!"),i(!1),f(""),g.resetFields(),S()):I.a.error("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i!")})),e.abrupt("return");case 18:C.bill.add(Object(m.a)({id:Object(D.a)(),formatDate:je()(a.date).format("MM/YYYY")},a)).then((function(){I.a.success("T\u1ea1o th\xe0nh c\xf4ng!"),i(!1),g.resetFields(),S()}));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t(18,200)},onCancel:function(){i(!1),f(""),g.resetFields()},children:Object(p.jsxs)(H.a,{name:"add-form",form:g,labelCol:{span:8},wrapperCol:{span:16},children:[Object(p.jsx)(H.a.Item,{label:"M\xe3",name:"code",rules:[{required:!0,message:"H\xe3y nh\u1eadp m\xe3!"}],children:Object(p.jsx)(F.a,{autoFocus:!0})}),Object(p.jsx)(H.a.Item,{label:"Ph\xf2ng",name:"roomId",rules:[{required:!0,message:"H\xe3y ch\u1ecdn ph\xf2ng!"}],children:Object(p.jsx)(ge.a,{children:w.room.map((function(e){return Object(p.jsx)(ge.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(p.jsx)(H.a.Item,{label:"S\u1ed1 l\u01b0\u1ee3ng \u0111i\u1ec7n ti\xeau th\u1ee5",name:"amountOfElectricity",rules:[{required:!0,message:"H\xe3y nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng \u0111i\u1ec7n ti\xeau th\u1ee5!"}],children:Object(p.jsx)(Ne.a,{style:{width:"100%"}})}),Object(p.jsx)(H.a.Item,{label:"S\u1ed1 l\u01b0\u1ee3ng n\u01b0\u1edbc ti\xeau th\u1ee5",name:"amountOfWater",rules:[{required:!0,message:"H\xe3y nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng n\u01b0\u1edbc ti\xeau th\u1ee5!"}],children:Object(p.jsx)(Ne.a,{style:{width:"100%"}})}),Object(p.jsx)(H.a.Item,{label:"S\u1ed1 l\u01b0\u1ee3ng xe",name:"numberOfVehicles",rules:[{required:!0,message:"H\xe3y nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng xe!"}],children:Object(p.jsx)(Ne.a,{style:{width:"100%"}})}),Object(p.jsx)(H.a.Item,{label:"Th\u1eddi gian",name:"date",style:{marginBottom:0},rules:[{required:!0,message:"H\xe3y ch\u1ecdn th\u1eddi gian!"}],children:Object(p.jsx)(he.a,{style:{width:"100%"},picker:"month",format:"MM/YYYY"})})]})})]})},Je=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(b.a)(a,2),o=i[0],s=i[1],l=Object(c.useState)(""),u=Object(b.a)(l,2),d=u[0],h=u[1],j=H.a.useForm(),f=Object(b.a)(j,1)[0],O=window.roomManagementSystemDB,g=function(){var e=Object(M.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,O.equipment.toArray();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){g()}),[]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ce.a,{extra:[Object(p.jsx)(v.a,{type:"primary",onClick:function(){return r(!0)},children:"Th\xeam m\u1edbi"})],header:{title:"Qu\u1ea3n l\xfd trang thi\u1ebft b\u1ecb"},children:Object(p.jsx)(ie.a,{style:{height:window.innerHeight-168},className:"ag-theme-alpine",children:Object(p.jsx)(ke.AgGridReact,{animateRows:!0,defaultColDef:{floatingFilter:!0,sortable:!0,filter:!0},columnDefs:[{headerName:"M\xe3",field:"code",filter:"agTextColumnFilter"},{headerName:"T\xean",field:"name",filter:"agTextColumnFilter"},{headerName:"S\u1ed1 l\u01b0\u1ee3ng",field:"number",filter:"agTextColumnFilter"},{pinned:"right",field:"",width:100,floatingFilter:!1,cellRendererFramework:function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ye.a,{title:"Ch\u1ec9nh s\u1eeda",children:Object(p.jsx)(v.a,{onClick:function(){return t=e.data,h(t.id),r(!0),void f.setFieldsValue(t);var t},icon:Object(p.jsx)(ve.a,{}),style:{marginRight:8},type:"primary"})}),Object(p.jsx)(ye.a,{title:"X\xf3a",children:Object(p.jsx)(v.a,{icon:Object(p.jsx)(we.a,{}),danger:!0,onClick:function(){return t=e.data,void K.a.warning({title:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a ".concat(t.name,"?"),onOk:function(){O.equipment.where("code").equals(t.code).delete().then((function(){I.a.success("X\xf3a th\xe0nh c\xf4ng!"),g()}))}});var t}})})]})}}],rowData:o})})}),Object(p.jsx)(K.a,{visible:n,title:d?"Ch\u1ec9nh s\u1eeda":"Th\xeam trang thi\u1ebft b\u1ecb m\u1edbi m\u1edbi",centered:!0,cancelText:"H\u1ee7y",onOk:function(){f.validateFields().then(function(){var e=Object(M.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.equipment.where("code").equals(t.code).toArray();case 2:if(!(e.sent.filter((function(e){var t=e.id;return d?d!==t:t})).length>0)){e.next=6;break}return I.a.error("".concat(t.name," \u0111\xe3 t\u1ed3n t\u1ea1i!")),e.abrupt("return");case 6:if(!d){e.next=9;break}return O.equipment.update(d,t).then((function(e){e?(I.a.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!"),r(!1),h(""),f.resetFields(),g()):I.a.error("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i!")})),e.abrupt("return");case 9:O.equipment.add(Object(m.a)({id:Object(D.a)()},t)).then((function(){I.a.success("T\u1ea1o th\xe0nh c\xf4ng!"),r(!1),f.resetFields(),g()}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},onCancel:function(){r(!1),h(""),f.resetFields()},children:Object(p.jsxs)(H.a,{name:"add-form",form:f,labelCol:{span:6},wrapperCol:{span:18},children:[Object(p.jsx)(H.a.Item,{label:"M\xe3",name:"code",rules:[{required:!0,message:"H\xe3y nh\u1eadp m\xe3!"}],children:Object(p.jsx)(F.a,{autoFocus:!0})}),Object(p.jsx)(H.a.Item,{label:"T\xean",name:"name",rules:[{required:!0,message:"H\xe3y nh\u1eadp t\xean!"}],children:Object(p.jsx)(F.a,{})}),Object(p.jsx)(H.a.Item,{label:"S\u1ed1 l\u01b0\u01a1ng",name:"number",rules:[{required:!0,message:"H\xe3y nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng!"}],children:Object(p.jsx)(Ne.a,{style:{width:"100%"}})})]})})]})},_e=n(649),Ze=function(){var e=Object(c.useState)(0),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),i=Object(b.a)(a,2),o=i[0],s=i[1],l=Object(c.useState)("/analysis"),u=Object(b.a)(l,2),d=u[0],h=u[1],O=Object(c.useContext)(g).setAuthenticate,x=Object(c.useRef)(null),y=localStorage.getItem("TOUR_GUIDE");Object(c.useEffect)((function(){y||(localStorage.setItem("TOUR_GUIDE","TOUR_GUIDE"),K.a.confirm({content:"B\u1eaft \u0111\u1ea7u h\u01b0\u1edbng d\u1eabn?",onOk:function(){s(!0)}}))}),[y]);var v=function(e){h(e),y||("/kind-of-room"===e&&r(1),"/room"===e&&r(4),"/customer"===e&&r(7),"/agreement"===e&&r(10),"/unit-price"===e&&r(13),"/bill"===e&&r(16),"/analysis"===e&&18===n&&(r(19),x.current&&(clearTimeout(x.current),x.current=null),x.current=setTimeout((function(){s(!1)}),3e3)))},w=function(e){"logout"===e.key&&(O(!1),localStorage.removeItem("access-token"))},k=function(e,t){t?(x.current&&(clearTimeout(x.current),x.current=null),x.current=setTimeout((function(){r(e)}),t)):r(e)};return Object(p.jsx)(j.a,{children:Object(p.jsxs)(z.a,Object(m.a)(Object(m.a)({},re),{},{location:{pathname:d},title:"Qu\u1ea3n l\xfd ph\xf2ng tr\u1ecd",logo:null,rightContentRender:function(){return Object(p.jsx)(E.a,{overlay:Object(p.jsx)(X.a,{onClick:w,children:Object(p.jsx)(X.a.Item,{icon:Object(p.jsx)(L.a,{}),children:"\u0110\u0103ng xu\u1ea5t"},"logout")}),children:Object(p.jsx)(G.a,{size:"small",icon:Object(p.jsx)(Y.a,{})})})},menuItemRender:function(e,t){return Object(p.jsx)(j.b,{to:e.path,onClick:function(){return v(e.path)},children:t})},fixSiderbar:!0,children:[Object(p.jsxs)(f.d,{children:[Object(p.jsx)(f.b,{render:function(){return Object(p.jsx)(Oe,{})},path:"/analysis"},"analysis"),Object(p.jsx)(f.b,{render:function(){return Object(p.jsx)(Ce,{onChangeTourStep:k})},path:"/room"},"room"),Object(p.jsx)(f.b,{render:function(){return Object(p.jsx)(Be,{onChangeTourStep:k})},path:"/customer"},"customer"),Object(p.jsx)(f.b,{render:function(){return Object(p.jsx)(Ee,{onChangeTourStep:k})},path:"/agreement"},"agreement"),Object(p.jsx)(f.b,{render:function(){return Object(p.jsx)(Ie,{onChangeTourStep:k})},path:"/kind-of-room"},"kind-of-room"),Object(p.jsx)(f.b,{render:function(){return Object(p.jsx)(Qe,{onChangeTourStep:k})},path:"/unit-price"},"unit-price"),Object(p.jsx)(f.b,{render:function(){return Object(p.jsx)(We,{onChangeTourStep:k})},path:"/bill"},"bill"),Object(p.jsx)(f.b,{render:function(){return Object(p.jsx)(Je,{})},path:"/equipment"},"equipment")]}),Object(p.jsx)(_e.a,{steps:ae,disableFocusLock:!0,showCloseButton:!1,showButtons:!1,showNavigation:!1,goToStep:n,isOpen:o,disableKeyboardNavigation:!0,onRequestClose:function(){return s(!1)}})]}))})},$e=function(){var e=Object(c.useContext)(g).authenticate;return Object(p.jsx)(j.a,{basename:"/",children:Object(p.jsx)(f.d,{children:Object(p.jsx)(f.b,{path:"/",render:function(t){return e?Object(p.jsxs)(f.d,{children:[Object(p.jsx)(f.b,{exact:!0,path:"/analysis",render:function(){return Object(p.jsx)(Ze,{})}},"analysis"),Object(p.jsx)(f.a,{to:"/analysis"})]}):Object(p.jsxs)(f.d,{children:[Object(p.jsx)(f.b,{exact:!0,path:"/login",render:function(){return Object(p.jsx)(A,Object(m.a)({},t))}},"login"),Object(p.jsx)(f.a,{to:"/login"})]})}})})})},et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1123)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};n(1094);u.LicenseManager.setLicenseKey("NDEwMjMzMzIwMDAwMA==4776ae9eddc069aad222a64b09b9e834"),window.roomManagementSystemDB=new l.a("room-management-system"),window.roomManagementSystemDB.version(1).stores({account:"id,username,password",room:"id,code,name,stillEmpty,kindOfRoomId",kindOfRoom:"id,code,name,price,deposit",agreement:"id,code,roomId,customerIds,date",customer:"id,code,fullName,identityCardNumber,dateOfBirth,sex,address,phoneNumber,job",unitPrice:"id,code,water,electricity,parking,junkMoney,date",bill:"id,code,amountOfWater,amountOfElectricity,numberOfVehicles,date,formatDate,roomId",equipment:"id,code,name,number"}),s.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(a.a,{locale:h.a,children:Object(p.jsx)(x,{children:Object(p.jsx)($e,{})})})}),document.getElementById("root")),et()},678:function(e,t){},680:function(e,t){},692:function(e,t){},694:function(e,t){},722:function(e,t){},724:function(e,t){},725:function(e,t){},730:function(e,t){},732:function(e,t){},738:function(e,t){},740:function(e,t){},759:function(e,t){},771:function(e,t){},774:function(e,t){},801:function(e,t,n){}},[[1099,1,2]]]);
//# sourceMappingURL=main.224113d3.chunk.js.map